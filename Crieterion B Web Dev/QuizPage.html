<!--This is Quiz Page-->
<!DOCTYPE html>
<html>
    <head>
    
    </head>
    
       
   
    <body style="background-image:url(images/bgimg4.jpg); background-size: cover;">
         <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="page1.html">Info</a></li>
            <li><a href="page2.html">Contact</a></li>
            <li><a class="active"href="QuizPage.html">Quiz</a></li>
        </ul>
           <!--Linking to CSS-->
                    <link rel="stylesheet" href="css/mystyles.css">
        <!--Inline CSS Styling for bg color, height etc-->
        <div style="padding:30px;margin-top:0px;">
                <br>

                <img src="images/QuizImg.webp" style="width: 500px; position: relative;">

            <h1><b>Quiz Page</b></h1>
                <p>Welcome to the Quiz Page</p>
                <p><i>Here is a Fun Short Quiz to test your knowledge<br>
                    Please Click the Start Quiz Button</i></p>
                <button onclick="InstructionsFunction()"><b>Instructions</b></button>
                <br>
                <button onclick="ResetQuiz();quizStart()"><b>Start Quiz</b></button>
                
                <p id="QuizText"></p>
                <p id="OptionsText"></p>
                <p id="AnswerText"></p>
                <p id="ScoreText"></p>
                <canvas id="mycanvas"></canvas>

                <script>
                var qIdx = 0;    
                var score = 0;
                var questions = [
                                 "1. What is the Topic of this Website?",
                                 "2. What is the solution discussed?",
                                 "3. What developing country has the most wasted children according to the graph on the home page?",
                                 "4. How will urban farming help solve the problem?",
                                 "5. How many under 5 child deaths were due to poor nutrition in the world in 2017?",
                                 "6. What region has the most child hunger?",
                                 "7. How much of the world's food is wasted?"
                                ]

                var answers = [3,2,1,2,3,0,3];

                var answerOptions = new Array();
                answerOptions[0] = ["(A) World Hunger", "(B) Child Obesity", "(C) Poverty in Africa", "(D) Child Hunger in Developing Countries"]   
                answerOptions[1] = ["(A) Food Charities", "(B) Reducing Reproduction", "(C) Urban Farming", "(D) Communism"]
                answerOptions[2] = ["(A) Canada", "(B) Bangladesh", "(C) India", "(D) Ethiopia"]
                answerOptions[3] = ["(A) People in poverty will get money", "(B) Reduced Global Warming", "(C) Supply and Demand", "(D) Food Drives"]
                answerOptions[4] = ["(A) 7 Billion", "(B) 2.7 Million", "(C) 0", "(D) 3.1 Million"]
                answerOptions[5] = ["(A) Sub Saharan Africa", "(B) Asia", "(C) America", "(D) Bangladesh"]
                answerOptions[6] = ["(A) A Quarter", "(B) A half", "(C) A tenth", "(D) A third"]

                var quizStarted = false

                function InstructionsFunction() {
                    document.getElementById("QuizText").innerHTML = "Quiz Instructions: When Quiz Starts, You will be presented with 4 options: A, B, C and D. Each Letter will have an answer. You must determine which answer is correct and type that letter and then press the CONFIRM button. If you want to Restart the quiz click the Start Quiz Button Again. If you want to skip a question you can click the Next Question Button without answering. Click the Start Quiz Button to Proceed.";
                }

                function quizStart() {
                    quizStarted = true
                    ShowQuestion()
                }  

                function quizEnded(){
                    quizStarted = false
                    ResetQuiz()
                }

                function ShowQuestion() {
                    if(quizStarted == false) {
                        alert("Please Click on Start Quiz First")
                        return
                    }
                    document.getElementById("QuizText").innerHTML = questions[qIdx]  
                    var ans = answerOptions[qIdx]
                    var ansTxt = "";
                    var i;
                    for(i=0; i< ans.length; i++) {
                        ansTxt = ansTxt + ans[i];

                    }
                    document.getElementById("OptionsText").innerHTML = ansTxt
                }

                function ShowAnswer(selectedAnsIdx) {
                    if(quizStarted == false) {
                        alert("Please Click on Start Quiz First")
                        return
                    }
                    var correctAnsIdx = answers[qIdx];   
                    if (correctAnsIdx==selectedAnsIdx){
                        var answer = answerOptions[qIdx][selectedAnsIdx]
                        document.getElementById("AnswerText").innerHTML = "Your answer '" + answer + "' was correct."
                        score = score + 1
                    } else {
                        var yourAnswer = answerOptions[qIdx][selectedAnsIdx]
                        var correctAnswer = answerOptions[qIdx][correctAnsIdx]
                        document.getElementById("AnswerText").innerHTML = "Your answer '" + yourAnswer + "' was incorrect. Correct answer is '" + correctAnswer + "'."
                    }
                }

                function Next() {
                    if (qIdx < 6) {
                        qIdx = qIdx + 1   
                    }else if (score>5) {
                        document.getElementById("ScoreText").innerHTML = "Your Score is: " + score + "/7" + ". Congratulations!".fontcolor("green")
                        var canvas = document.getElementById('mycanvas');
                         {
                
                            var ctx = canvas.getContext('2d');

                            ctx.fillStyle = "#f3c62b"; //fill color

                            //face
                            ctx.beginPath();
                            ctx.arc(75,75,50,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fill();

                            ctx.strokeStyle="#2a2a34"; 

                            //smile
                            ctx.moveTo(110,75);
                            ctx.beginPath();
                            ctx.arc(75,75,35,0.15*Math.PI,0.85*Math.PI,false); 
                            ctx.stroke();

                            //left eye

                            ctx.moveTo(65,65);
                            ctx.beginPath();
                            ctx.arc(60,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();

                            //right eye
                            ctx.moveTo(95,65);
                            ctx.beginPath();
                            ctx.arc(90,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();
            }

                    }else if (score<6,score>3){
                        document.getElementById("ScoreText").innerHTML= "Your Score is: " + score + "/7" + ". Meh, you did ok.  Do Better Next Time".fontcolor("yellow")
                        var canvas = document.getElementById('mycanvas');
                         {
                
                            var ctx = canvas.getContext('2d');

                            ctx.fillStyle = "#f3c62b"; //fill color

                            //face
                            ctx.beginPath();
                            ctx.arc(75,75,50,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fill();

                            ctx.strokeStyle="#2a2a34"; 

                            //smile
                            ctx.beginPath();
                            ctx.moveTo(100,90);
                            ctx.lineTo(50,90); 
                            ctx.stroke();

                            //left eye

                            ctx.moveTo(65,65);
                            ctx.beginPath();
                            ctx.arc(60,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();

                            //right eye
                            ctx.moveTo(95,65);
                            ctx.beginPath();
                            ctx.arc(90,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();
            }



                    }else if (score<4) {
                        document.getElementById("ScoreText").innerHTML= "Your Score is: " + score + "/7" + ". Did you even read the website?".fontcolor("red")
                        var canvas = document.getElementById('mycanvas');
                         {
                
                            var ctx = canvas.getContext('2d');

                            ctx.fillStyle = "#f3c62b"; //fill color

                            //face
                            ctx.beginPath();
                            ctx.arc(75,75,50,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fill();

                            ctx.strokeStyle="#2a2a34"; 

                            //smile
                            ctx.moveTo(110,75);
                            ctx.beginPath();
                            ctx.arc(75,110,25,0.05*Math.PI,0.95*Math.PI,true); 
                            ctx.stroke();

                            //left eye

                            ctx.moveTo(65,65);
                            ctx.beginPath();
                            ctx.arc(60,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();

                            //right eye
                            ctx.moveTo(95,65);
                            ctx.beginPath();
                            ctx.arc(90,65,5,0,Math.PI*2,true); 
                            ctx.closePath();
                            ctx.fillStyle = "#2a2a34";
                            ctx.fill();
            }

                    }


                    document.getElementById("AnswerText").innerHTML =""
                    ShowQuestion()
                }

                function ResetQuiz() {
                    qIdx = 0
                    score=0
                    var canvas = document.getElementById('mycanvas');
                    var ctx = canvas.getContext('2d');
                    ctx.clearRect(0,0,canvas.height,canvas.width)
                    document.getElementById("ScoreText").innerHTML=""
                    document.getElementById("AnswerText").innerHTML=""
                    document.getElementById("OptionsText").innerHTML=""
                    document.getElementById("QuizText").innerHTML=""
                }

                




                </script>


                <br>
                    <label for="YourAnswer">Choose an Answer:</label>

                    <select id="yourAnswer">
                        <option value="0">A</option>
                        <option value="1">B</option>
                        <option value="2">C</option>
                        <option value="3">D</option>
                    </select>

                    <button onclick=ShowAnswer(yourAnswer.value)>CONFIRM</button> 
                    <br>
                    <button onclick=Next()>Next Question</button>

            
 

                
            </div>
            
        
    
    
    
    </body>
</html>